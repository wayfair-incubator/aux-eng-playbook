{"version":3,"file":"component---src-templates-doc-page-js-18ec5cd74b4c357178b0.js","mappings":"gNAwJA,UAtGgB,SAAC,GAAc,IAAZA,EAAW,EAAXA,KACOC,EAASD,EAAzBE,eACOC,EAAUH,EAAKI,kBAAtBC,MACR,GAAwBC,EAAAA,EAAAA,WAAS,GAA1BC,EAAP,KAAaC,EAAb,KAEMC,EAAQR,EAAKS,YAAYD,MAAQR,EAAKS,YAAYD,MAAME,gBAAgBC,OAAS,KACjFC,EA/CS,SAAAV,GACf,IACIW,EAAcX,EAAMY,KAAI,SAAAd,GAC1B,MAAO,CACLe,GAAIf,EAAKgB,KAAKD,GACdE,MAAOjB,EAAKgB,KAAKP,YAAYQ,MAC7BC,KAAMlB,EAAKgB,KAAKG,OAAOD,KACvBE,SAAUpB,EAAKgB,KAAKG,OAAOD,KAAKG,QANvB,IAMqC,IAAIA,QAAQ,MAAO,IACjEC,OAAQtB,EAAKgB,KAAKM,OAAOC,kBACzBC,SAAU,OAIVC,EAAUZ,EAAYa,QAAO,SAAA1B,GAAU,OAA8B,IAAvBA,EAAKsB,OAAOK,UAyB9D,OAxBed,EAAYa,QAAO,SAAA1B,GAAU,OAAOA,EAAKsB,OAAOK,OAAS,KAE/DC,SAAQ,SAAA5B,GACf,IAAM6B,EAAcJ,EAAQK,WAAU,SAAAC,GAAO,OAAIA,EAAQX,WAAapB,EAAKsB,UACvEO,GAAe,GACjBJ,EAAQI,GAAaL,SAASQ,KAAKhC,MAIvCyB,EAAQQ,MAAK,SAACC,EAAGC,GACf,IAAIC,EAAYF,EAAEd,SAASiB,cACvBC,EAAYH,EAAEf,SAASiB,cAE3B,OAAID,EAAYE,EACP,EAGLF,EAAYE,GACN,EAGH,KAGFb,EASUc,CAASrC,GAGpBsC,EAAa,kBAAMjC,GAAQ,IAWjC,OACE,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAKU,MAAK,yBAA2BjB,EAAKS,YAAYQ,MAAST,MAAOA,IACtE,gBAAC,IAAD,KACE,gBAAC,IAAD,MACA,gBAAC,IAAD,CAAKiC,UAAU,aACb,uBACEA,UAAU,iBACVC,UAlBQ,SAAAC,GAET,KADCA,EAAMC,SAEVJ,KAgBIK,SAAS,IACTC,KAAK,SACLC,QAASP,GALX,iBASA,gBAAC,IAAD,CAAWlC,KAAMA,EAAM0C,OA3BX,kBAAMzC,GAAQ,IA2BkB0C,QAAM,EAACC,UAAU,GAC3D,gBAAC,WAAD,CAAkBC,aAAW,GAC3B,gBAAC,UAAD,uBAEF,gBAAC,SAAD,KACE,gBAAC,IAAD,CAAQjD,MAAOU,OAIrB,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAKwC,GAAG,IAAIX,UAAU,qBACpB,gBAAC,IAAD,CAAQvC,MAAOU,KAEjB,gBAAC,IAAD,CAAKyC,GAAG,KAAKC,GAAG,KAAKF,GAAG,IAAIX,UAAU,iBACpC,sBAAIA,UAAU,SAASzC,EAAKS,YAAYQ,OACxC,uBAAKwB,UAAU,WACbc,wBAAyB,CAAEC,OAAQxD,EAAKyD,WAKhD,gBAAC,IAAD","sources":["webpack://AuxEngDocs/./src/templates/doc-page.js"],"sourcesContent":["import React, { useState } from \"react\"\nimport { Container, Row, Col, Offcanvas } from \"react-bootstrap\"\nimport { graphql } from \"gatsby\"\n\nimport Spacer from \"../components/Spacer\"\nimport Layout from \"../components/layout\"\nimport DocNav from \"../components/DocNav\"\nimport Seo from \"../components/seo\"\n\nconst sortMenu = pages => {\n  const base = '/';\n  let pageObjects = pages.map(page => {\n    return {\n      id: page.node.id,\n      title: page.node.frontmatter.title,\n      slug: page.node.fields.slug,\n      relative: page.node.fields.slug.replace(base, '').replace(/\\/$/, ''),\n      parent: page.node.parent.relativeDirectory,\n      children: []\n    }\n  });\n\n  let parents = pageObjects.filter(page => { return page.parent.length === 0; });\n  let children = pageObjects.filter(page => { return page.parent.length > 0; });\n\n  children.forEach(page => {\n    const parentIndex = parents.findIndex(element => element.relative === page.parent);\n    if (parentIndex >= 0) {\n      parents[parentIndex].children.push(page);\n    }\n  });\n\n  parents.sort((a, b) => {\n    let aRelative = a.relative.toLowerCase();\n    let bRelative = b.relative.toLowerCase();\n\n    if (aRelative > bRelative) {\n      return 1;\n    }\n\n    if (aRelative < bRelative) {\n      return -1;\n    }\n\n    return 0;\n  });\n\n  return parents;\n}\n\nconst DocPage = ({ data }) => {\n  const { markdownRemark: page } = data\n  const { edges: pages } = data.allMarkdownRemark\n  const [show, setShow] = useState(false)\n\n  const image = page.frontmatter.image ? page.frontmatter.image.childImageSharp.resize : null;\n  const menuTree = sortMenu(pages);\n\n  const handleClose = () => setShow(false)\n  const handleShow = () => setShow(true)\n  const onKeyDown = event => {\n    switch (event.keyCode) {\n      case 13:\n        handleShow()\n        break\n      default:\n        return\n    }\n  }\n\n  return (\n    <Layout>\n      <Seo title={`Wayfair Open Source - ${page.frontmatter.title}`} image={image}/>\n      <Container>\n        <Spacer />\n        <Row className=\"d-lg-none\">\n          <div\n            className=\"doc-nav-button\"\n            onKeyDown={onKeyDown}\n            tabIndex=\"0\"\n            role=\"button\"\n            onClick={handleShow}\n          >\n            ðŸ“– Navigation\n          </div>\n          <Offcanvas show={show} onHide={handleClose} scroll backdrop={false}>\n            <Offcanvas.Header closeButton>\n              <Offcanvas.Title>ðŸ“– Navigation</Offcanvas.Title>\n            </Offcanvas.Header>\n            <Offcanvas.Body>\n              <DocNav pages={menuTree} />\n            </Offcanvas.Body>\n          </Offcanvas>\n        </Row>\n        <Row>\n          <Col lg=\"3\" className=\"d-none d-lg-block\">\n            <DocNav pages={menuTree} />\n          </Col>\n          <Col xs=\"12\" sm=\"10\" lg=\"7\" className=\"doc-container\">\n            <h1 className=\"title\">{page.frontmatter.title}</h1>\n            <div className=\"doc-body\"\n              dangerouslySetInnerHTML={{ __html: page.html }}\n            ></div>\n          </Col>\n        </Row>\n      </Container>\n      <Spacer />\n    </Layout>\n  )\n}\n\nexport const pageQuery = graphql`\n  query BlogPostByPath($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n        image: featured {\n          childImageSharp {\n            resize(width: 600, height: 400) {\n              src\n              height\n              width\n            }\n          }\n        }\n      }\n    }\n    allMarkdownRemark {\n      edges {\n        node {\n          id\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n          }\n          parent {\n            ... on File {\n              relativeDirectory\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default DocPage\n"],"names":["data","page","markdownRemark","pages","allMarkdownRemark","edges","useState","show","setShow","image","frontmatter","childImageSharp","resize","menuTree","pageObjects","map","id","node","title","slug","fields","relative","replace","parent","relativeDirectory","children","parents","filter","length","forEach","parentIndex","findIndex","element","push","sort","a","b","aRelative","toLowerCase","bRelative","sortMenu","handleShow","className","onKeyDown","event","keyCode","tabIndex","role","onClick","onHide","scroll","backdrop","closeButton","lg","xs","sm","dangerouslySetInnerHTML","__html","html"],"sourceRoot":""}